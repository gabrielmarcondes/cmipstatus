{% extends 'cmiphome.html' %}

{% block body %}
    <!-- RUNNING SECTION -->
    <div class="list_running">
    <p class="list_header">Running Experiments</p>
            <ul class="exp_list">
                <li>Running OK
                    <ul class="exp_list">
                        {% for exp in running %}
                            <li><a class="exp_link"  href="/cmip/expview/{{ exp.0.name }}">{{ exp.0.name }}</a>
                            <ul class="exp_list" id="collapsible">
                                <li class="exp_sub_list_expander">+Progress...
                                    <ul class="exp_sub_list">
                            {% for minfo in  exp.1.minfo %}
                                <li>{{ minfo.member }} <progress class="exp_progress_small" value={{ minfo.prog }}></progress></li>
                            {% endfor %}
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        {% empty %}
                            <li>None.</li>
                        {% endfor %}
                    </ul>
                </li>
            </ul>

            <ul class="exp_list"> 
                <li>Running with Errors
                    <ul class="exp_list">
                        {% for exp in running_errors %}
                            <li><a class="exp_error_link" href="/cmip/expview/{{ exp.0.name }}">{{ exp.0.name }}</a>
                            <ul class="exp_list" id="collapsible">
                                <li class="exp_sub_list_expander">+Progress...
                                    <ul class="exp_sub_list">
                            {% for minfo in  exp.1.minfo %}
                                <li>{{ minfo.member }} <progress class="exp_progress_small" value={{ minfo.prog }}></progress></li>
                            {% endfor %}
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        {% empty %}
                            <li>None.</li>
                        {% endfor %}
                    </ul>
                </li>
                <li class="err_exp_info">Total errors: {{ total_errors }}</li>
            </ul>

            <ul class="exp_list">
                <li>Running with Aborted
                    <ul class="exp_list">
                        {% for exp in running_aborted %}
                            <li><a class="exp_aborted_link"  href="/cmip/expview/{{ exp.0.name }}">{{ exp.0.name }}</a>
                            <ul class="exp_list" id="collapsible">
                                <li class="exp_sub_list_expander">+Progress...
                                    <ul class="exp_sub_list">
                            {% for minfo in  exp.1.minfo %}
                                <li>{{ minfo.member }} <progress class="exp_progress_small" value={{ minfo.prog }}></progress></li>
                            {% endfor %}
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        {% empty %}
                            <li>None.</li>
                        {% endfor %}
                    </ul>
                </li>
                <li class="abo_exp_info">Total aborted: {{ total_aborted }}</li>
            </ul>
    </div>
    <!-- END OF RUNNING SECTION -->

    <!-- FINISHED SECTION -->
    <div class="list_finished">
    <p class="list_header">Finished Experiments</p>

            <ul class="exp_list" id="collapsible">
                <li>Finished OK
                    <ul class="exp_list">
                        {% for exp in finished %}
                            <li><a class="exp_finished_link" href="/cmip/expview/{{ exp.0.name }}">{{ exp.0.name }}</a></li>
                        {% empty %}
                            <li>None.</li>
                        {% endfor %}
                    </ul>
                </li>
            </ul>

            <ul class="exp_list" id="collapsible">
                <li>Finished with Aborted
                    <ul class="exp_list">
                        {% for exp in finished_aborted.0 %}
                            <li><a class="exp_aborted_link"   href="/cmip/expview/{{ exp.name }}">{{ exp.name }}</a></li>
                        {% empty %}
                            <li>None.</li>
                        {% endfor %}
                    </ul>
                </li>
            </ul>
    </div>
    <!-- END OF FINISHED SECTION -->
{% endblock %}

